<!DOCTYPE html>

<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  </head>
  <body>
    <button>Sample</button>
<p></p>
    <tr>
      <th>Name</th>
      <th>Homework</th>
      <th>Quiz</th>
      <th>Exam</th>
      <th>GPA</th>
    </tr>

    <script>
var students = 15;
var homework = 5;
var exam = 2;

$("BUTTON").click(() =>{
  document.write("<table><tr> <th>Name</th> <th>Homework</th> <th>Exam</th> <th>Average</th> <th>GPA</th> </tr>");
  var y = 0;

while (students > y){
var array = [];
var x = 0;
var rand = 0;

var respons;
  $.get("https://randomuser.me/api/",
    (response) => {
      JSON.stringify(response);

       var respons = response["results"][0]["name"]["title"];
    })

var name = respons;
var haverage = 0;
var eaverage = 0;
var average = 0;
var hgrades = [];
var egrades = [];



  while (x < homework){
    rand = Math.floor(Math.random() * 5);

    if(rand >= 3){

      rand = Math.floor(Math.random() * 100);
      rand = parseInt(rand);
      hgrades.push(rand);
      x++;

    }
    if (hgrades.length < 3 && x < 5){
    x = x - 1;
    x++;
  }
}

  x = 0;
  var w = 0;
  while(x < exam && w < 2){
      rand = Math.floor(Math.random() * 3);

    if(rand >= 1){
      rand = Math.floor(Math.random() * 100);
      egrades.push(rand);
      x++;
    }
    w++;
  }


  x = 0;
  let temph = hgrades;
  let tempn = 0;
  while(x < hgrades.length){
    tempn = tempn + hgrades[x];
    x++;

  }
  haverage = tempn/hgrades.length;
  console.log(hgrades[0]);


  x = 0;
  let tempe = egrades;
  tempn = 0;
  if( egrades.length == 0){
    rand = Math.floor(Math.random() * 100);
    egrades.push(rand);
  }
  while(x < egrades.length){
    tempn = tempn + egrades[x];
    x++;
  }
  eaverage = tempn/egrades.length;

  x = 0;
  let tq = 0;
  let te = 0;
  let th = 0;
  while(x < temph.length){
    th = th + temph[x];
    x++;
  }



  x = 0;
  while(x < tempe.length){
    te = te + tempe[x];
    x++;
  }
  te = te * 3;

  let temp = temph.length + (tempe.length * 1);
  average = te + tq + th;
  average = average/temp;

  if(average > 100){
    average = 100;
  }

let letter;
let number;

  if(average > 90){
    letter = "A or ";
    number = 4;

  }else if(average > 79 && average < 90){
    letter = "B or ";
    number = 3;

  }else if(average > 69 && average < 80){
    letter = "C or ";
    number = 2;

  }else if(average > 59 && average < 70){
    letter = "D or ";
    number = 1;

  }else if(average < 60){
    letter = "F or ";
    number = 0;

  }

  array.push({"Name": name, "Homework": haverage, "Exam": eaverage, "GPA": average, "Letter": letter, "Number": number});




  document.write("<tr><td>" + name + "</td><td>" + haverage + "</td><td>" + eaverage + "</td><td>" + average + " </td><td>" + letter +  number + "</td></tr>");

  y++;
  }
  document.write("</table>");
});
window.onload;


</script>
  </body>
</html>
